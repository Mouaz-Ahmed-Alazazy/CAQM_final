{% extends 'accounts/base.html' %}
{% load static %}

{% block title %}Submit Medical Form{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0"><i class="fas fa-file-medical"></i> Medical History Form</h4>
            </div>
            <div class="card-body p-4">
                <p class="text-muted">Please provide your medical information for our records.</p>

                <form method="post">
                    {% csrf_token %}

                    <div class="mb-3">
                        <label for="chief_complaint" class="form-label">Chief Complaint <span
                                class="text-danger">*</span></label>
                        <textarea class="form-control" id="chief_complaint" name="chief_complaint" rows="3"
                            placeholder="Main reason for your visit..."
                            required>{{ patient_form.chief_complaint }}</textarea>
                        <small class="text-muted">Describe your main health concern</small>
                    </div>

                    <div class="mb-3">
                        <label for="medical_history" class="form-label">Medical History</label>
                        <textarea class="form-control" id="medical_history" name="medical_history" rows="4"
                            placeholder="Past medical conditions, surgeries, etc...">{{ patient_form.medical_history }}</textarea>
                        <small class="text-muted">Include any chronic conditions, past surgeries, or significant
                            medical events</small>
                    </div>

                    <div class="mb-3">
                        <label for="current_medications" class="form-label">Current Medications</label>
                        <textarea class="form-control" id="current_medications" name="current_medications" rows="3"
                            placeholder="List all medications you are currently taking...">{{ patient_form.current_medications }}</textarea>
                        <small class="text-muted">Include dosages if known</small>
                    </div>

                    <div class="mb-3">
                        <label for="allergies" class="form-label">Allergies</label>
                        <textarea class="form-control" id="allergies" name="allergies" rows="3"
                            placeholder="Any known allergies (medications, food, environmental)...">{{ patient_form.allergies }}</textarea>
                        <small class="text-muted">Include all known allergies and reactions</small>
                    </div>

                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i> All information is confidential and will only be used for
                        medical purposes.
                    </div>

                    <div class="d-flex justify-content-between">
                        <a href="{% url 'patients:my_appointments' %}" class="btn btn-secondary">
                            <i class="fas fa-arrow-left"></i> Back
                        </a>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-check-circle"></i> Submit Form
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}